(this["webpackJsonpreact-karaoke-challenge"]=this["webpackJsonpreact-karaoke-challenge"]||[]).push([[0],{103:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},115:function(e,t,n){},116:function(e,t,n){"use strict";n.r(t);var a=n(5),s=n(1),i=n(16),r=n.n(i),o=(n(90),n(91),n(22)),c=n(24),l=n(26),u=n(25),d=(n(92),n(43)),h=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"Header",children:[Object(a.jsx)(d.b,{style:{fontWeight:900,textDecoration:"none",color:"green"},to:"/africariyoki",children:"AFRICARIYOKI -"}),Object(a.jsx)("div",{className:"right-part",children:Object(a.jsx)(d.b,{variant:"outlined",style:{marginRight:20,fontSize:18},color:"primary",to:"/africariyoki/upload",children:"Upload"})})]})}}]),n}(s.Component),p=n(63),j=(s.Component,function(e){return Object(a.jsxs)("tr",{className:"song",children:[Object(a.jsx)("td",{children:e.song.title}),Object(a.jsx)("td",{children:e.song.singer}),Object(a.jsx)("td",{children:Object(a.jsx)("button",{onClick:function(){return e.playSong(e.song.id)},children:"Play"})})]})}),f=function(e){return Object(a.jsx)("table",{className:"song-list",children:Object(a.jsx)("tbody",{children:e.songs.map((function(t){return Object(a.jsx)(j,{song:t,playSong:e.playSong},t.id)}))})})},g=n(34),y=n(36),b=new function e(){Object(o.a)(this,e),this.getLyrics=function(){return new Promise((function(e){y.a.database().ref("/lyrics/").once("value").then((function(t){t.val()?e(Object.values(t.val())):e({})}))}))},this.storage=function(){return y.a.storage()},this.deleteRecp=function(e,t){return new Promise((function(n){y.a.database().ref("/recipients/"+e).child(t).remove().then((function(){n(!0)}))}))},this.addAfricariyoki=function(e){return new Promise((function(t){y.a.database().ref("/lyrics/"+e.id+"/").set(Object(g.a)({id:e.id,title:e.title,lyricsurl:e.lyricsurl,singer:e.singer,audiourl:e.audiourl,lyrics:e.lyrics},"title",e.title)).then((function(e){t(!0)})).catch((function(e){console.warn("error",e)}))}))},this.postTransaction=function(e,t,n,a){return new Promise((function(s){y.a.database().ref("/userTransactions/"+e.user.uid+"/"+a.id+"/").set({transactionId:a.id,accountNumber:t.accountNumber,bankName:t.bankName,recpFirstName:t.firstName,recpLastName:t.lastName,cardUsed:n.number,recpAmt:a.recpAmt,sendAmt:a.sendAmt,recpCurrency:a.recpCurrency,sendCurrency:a.sendCurrency,rate:a.rate,isSuccessful:!0,time:"13:03"}).then((function(e){s(!0)})).catch((function(e){console.warn("error",e)}))}))}},m=n(156),O=n(55),v=n.n(O),x=n(157),k=(n(103),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).filterSong=function(e){var t=a.state.songs.filter((function(t){return e===t.title.toLowerCase()}));""==e||0==t.length?a.setState({songs:a.state.songsCopy}):a.setState({songs:t})},a.playSong=function(e){var t=a.state.songs.filter((function(t){return e===t.id}));a.props.history.push({pathname:"/africariyoki/karaokedisplay/"+e,state:{chooseSong:t}}),a.setState({songs:t,currentSong:t})},a.state={songs:[],filteredSongs:"",currentSong:"",songsCopy:[],animatedTexts:["if","onyeka onyewu","jowo","lala","ginger","monsters you made","jollof on the jet","beef","hustle","pepper soup"],count:0},a.searchTerm="",a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=this;b.getLyrics().then((function(t){e.setState({songs:t,songsCopy:t})})),setInterval((function(){e.setState({count:(e.state.count+1)%10})}),4e3)}},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{className:"Searcher-container",children:Object(a.jsxs)("div",{className:"Searcher-container",children:[Object(a.jsx)(x.a,{id:"controllable-states-demo",value:this.searchTerm,options:this.state.animatedTexts.slice(0,5),renderInput:function(e){return Object(a.jsx)(m.a,Object(p.a)(Object(p.a)({},e),{},{className:"Searcher-input",label:"what do you want to sing today",variant:"outlined"}))},onInputChange:function(t,n){e.searchTerm=n},onChange:function(t,n){e.searchTerm=n,e.filterSong(n)},onKeyUp:function(t){"Enter"===t.key&&(e.filterSong(e.searchTerm),console.log(document),document.getElementsByClassName("MuiAutocomplete-popper").hide())}}),Object(a.jsx)(f,{songs:this.state.songs,filteredSongs:this.state.filteredSongs,playSong:this.playSong}),Object(a.jsx)(v.a,{style:{marginTop:50,fontSize:24,color:"#3F51B5"},text:this.state.animatedTexts[this.state.count],speed:150,eraseDelay:150,typingDelay:150})]})})}}]),n}(s.Component)),S=n(64),I=n.n(S),C=n(74),N=(n(106),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).state={lyrics:e.lyrics.replace('b"',"")},a.scrollThreshold=500,a}return Object(c.a)(n,[{key:"displayLyrics",value:function(){for(var e=this.state.lyrics,t="",n="",s=0;s<e.length;s++)"\\"==e[s]?(t+=" \n ",n="t"):"t"==n?t+=e[s+1]:(t+=e[s],n="");return Object(a.jsx)("span",{className:"Lyrics-container",children:t})}},{key:"render",value:function(){return Object(a.jsx)("pre",{className:"Lyrics",children:this.displayLyrics()})}}]),n}(s.Component));N.defaultProps={speed:300};var w=N,D=(n(107),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={singer:e.props.location.state.chooseSong[0],animatedTexts:[e.props.location.state.chooseSong[0].title,e.props.location.state.chooseSong[0].singer,e.props.location.state.chooseSong[0].album],count:0},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var e=Object(C.a)(I.a.mark((function e(){var t=this;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setInterval((function(){t.setState({count:(t.state.count+1)%2})}),5e3);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return window.onload=function(e){var t=document.getElementById("audioPlay");console.log("myAudio",t.duration),t&&t.duration>0&&t.paused&&alert("music paused")},this.props?Object(a.jsxs)("div",{className:"KaraokeDisplay-container",children:[Object(a.jsxs)("audio",{id:"audioPlay",className:"KaraokeDisplay-audio",controls:!0,autoPlay:!0,children:[Object(a.jsx)("source",{src:this.state.singer.audiourl,type:"audio/mpeg"}),"Your browser does not support the audio element."]}),Object(a.jsxs)("h2",{children:[this.state.singer.title," by ",this.state.singer.singer]}),Object(a.jsx)(w,{lyrics:this.state.singer.lyrics}),Object(a.jsx)(v.a,{style:{marginTop:50,fontSize:24,color:"#3F51B5"},text:this.state.animatedTexts[this.state.count],speed:150,eraseDelay:150,typingDelay:150})]}):Object(a.jsxs)("div",{className:"KaraokeDisplay-display",children:[Object(a.jsx)("h2",{children:"Song Title"}),Object(a.jsx)(w,{lyrics:"example song lyrics"})]})}}]),n}(s.Component)),T=n(158),A=n(76),P=n.n(A),E=n(155),L=n(75),U=n.n(L),B=(n(108),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={albumName:"",singer:"",title:"",lyrics:"",videoID:"",addressID:"",isUploading:!1,progress:0},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){}},{key:"uploadToFirebase",value:function(){if(""!=this.state.videoID){var e,t="https://storage.googleapis.com/africariyoki.appspot.com/music/".concat(this.state.videoID,".mp3"),n="https://storage.googleapis.com/africariyoki.appspot.com/lyrics/".concat(this.state.videoID,".txt"),a=this.state.addressID;a=""==a?"http://0.0.0.0:5000":"https://"+a+".ngrok.io",b.addAfricariyoki((e={title:this.state.title,singer:this.state.singer},Object(g.a)(e,"title",this.state.title),Object(g.a)(e,"audiourl",t),Object(g.a)(e,"lyricsurl",n),Object(g.a)(e,"lyrics",this.state.lyrics),Object(g.a)(e,"id",this.state.videoID),e));fetch("".concat(a,"/vr/").concat(this.state.videoID),{method:"GET",redirect:"follow"}).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)}))}}},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{style:{height:"100%"},children:Object(a.jsxs)("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(a.jsx)(U.a,{}),Object(a.jsxs)("div",{style:{width:320,padding:30,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(a.jsx)(T.a,{style:{marginBottom:10},children:Object(a.jsx)(P.a,{})}),Object(a.jsxs)("div",{style:{marginBottom:20,fontSize:24,textAlign:"center"},children:[" ","Upload song information"," "]}),Object(a.jsx)(m.a,{value:this.state.title,placeholder:"Song title",onChange:function(t){e.setState({title:t.target.value})}}),Object(a.jsx)(m.a,{value:this.state.singer,placeholder:"Singer",onChange:function(t){e.setState({singer:t.target.value})}}),Object(a.jsx)(m.a,{value:this.state.albumName,placeholder:"Album",onChange:function(t){e.setState({albumName:t.target.value})}}),Object(a.jsx)(m.a,{value:this.state.videoID,placeholder:"Youtube Video ID",onChange:function(t){e.setState({videoID:t.target.value})}}),Object(a.jsx)(m.a,{value:this.state.addressID,placeholder:"address ID",onChange:function(t){e.setState({addressID:t.target.value})}}),Object(a.jsx)(m.a,{style:{height:100},value:this.state.lyrics,placeholder:"Lyrics - paste lyrics here",multiline:!0,rows:4,onChange:function(t){e.setState({lyrics:t.target.value})}}),Object(a.jsx)(E.a,{style:{marginTop:20,width:200},variant:"outlined",color:"primary",onClick:function(){e.uploadToFirebase()},children:"Upload"}),this.state.wrongCred&&Object(a.jsx)("div",{style:{color:"red"},children:this.state.SignUpErrorMsg})]})]})})}}]),n}(s.Component)),K=n(18),R=(n(115),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)(h,{}),Object(a.jsx)("div",{className:"app-body",children:Object(a.jsx)("div",{className:"content",children:Object(a.jsxs)(K.c,{children:[Object(a.jsx)(K.a,{path:"/africariyoki",exact:!0,component:k}),Object(a.jsx)(K.a,{path:"/africariyoki/karaokedisplay/:id",exact:!0,component:D}),Object(a.jsx)(K.a,{path:"/africariyoki/upload",exact:!0,component:B}),Object(a.jsx)(K.a,{component:function(){return Object(a.jsx)("div",{style:{padding:20},children:"Page not found"})}})]})})})]})}}]),n}(s.Component)),_={apiKey:"AIzaSyDyuKXjNCV1RowCqeWyAfffk0EJPPe2Vjg",authDomain:"africariyoki.firebaseapp.com",databaseURL:"https://africariyoki-default-rtdb.firebaseio.com",projectId:"africariyoki",storageBucket:"africariyoki.appspot.com",messagingSenderId:"477946568761",appId:"1:477946568761:web:bdc8f1110f36abdc732de8",measurementId:"G-FQ0NXKV2ED"};y.a.apps.length||y.a.initializeApp(_);var F=Object(a.jsx)(d.a,{children:Object(a.jsx)(R,{})});window.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__=!0,r.a.render(F,document.getElementById("root"))},90:function(e,t,n){},91:function(e,t,n){},92:function(e,t,n){}},[[116,1,2]]]);
//# sourceMappingURL=main.0c685208.chunk.js.map