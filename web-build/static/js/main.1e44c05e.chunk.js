(this["webpackJsonpreact-karaoke-challenge"]=this["webpackJsonpreact-karaoke-challenge"]||[]).push([[0],{101:function(t,e,n){},103:function(t,e,n){},104:function(t,e,n){},105:function(t,e,n){},112:function(t,e,n){},113:function(t,e,n){"use strict";n.r(e);var a=n(5),s=n(1),i=n(16),r=n.n(i),o=(n(88),n(89),n(22)),c=n(24),l=n(26),u=n(25),d=(n(90),n(47)),h=function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"Header",children:[Object(a.jsx)("div",{style:{fontWeight:900},children:"AFRICARIYOKI -"}),Object(a.jsx)("div",{className:"right-part",children:Object(a.jsx)(d.b,{variant:"outlined",style:{marginRight:20,fontSize:18},color:"primary",to:"/africariyoki/upload",children:"Upload"})})]})}}]),n}(s.Component),p=n(63),j=(s.Component,function(t){return Object(a.jsxs)("tr",{className:"song",children:[Object(a.jsx)("td",{children:t.song.title}),Object(a.jsx)("td",{children:t.song.singer}),Object(a.jsx)("td",{children:Object(a.jsx)("button",{onClick:function(){return t.playSong(t.song.id)},children:"Play"})})]})}),f=function(t){return Object(a.jsx)("table",{className:"song-list",children:Object(a.jsx)("tbody",{children:t.songs.map((function(e){return Object(a.jsx)(j,{song:e,playSong:t.playSong},e.id)}))})})},y=n(35),g=n(36),b=new function t(){Object(o.a)(this,t),this.getLyrics=function(){return new Promise((function(t){g.a.database().ref("/lyrics/").once("value").then((function(e){e.val()?t(Object.values(e.val())):t({})}))}))},this.storage=function(){return g.a.storage()},this.deleteRecp=function(t,e){return new Promise((function(n){g.a.database().ref("/recipients/"+t).child(e).remove().then((function(){n(!0)}))}))},this.addAfricariyoki=function(t){return new Promise((function(e){g.a.database().ref("/lyrics/"+t.id+"/").set(Object(y.a)({id:t.id,title:t.title,lyricsurl:t.lyricsurl,singer:t.singer,audiourl:t.audiourl},"title",t.title)).then((function(t){e(!0)})).catch((function(t){console.warn("error",t)}))}))},this.postTransaction=function(t,e,n,a){return new Promise((function(s){g.a.database().ref("/userTransactions/"+t.user.uid+"/"+a.id+"/").set({transactionId:a.id,accountNumber:e.accountNumber,bankName:e.bankName,recpFirstName:e.firstName,recpLastName:e.lastName,cardUsed:n.number,recpAmt:a.recpAmt,sendAmt:a.sendAmt,recpCurrency:a.recpCurrency,sendCurrency:a.sendCurrency,rate:a.rate,isSuccessful:!0,time:"13:03"}).then((function(t){s(!0)})).catch((function(t){console.warn("error",t)}))}))}},m=n(153),O=n(55),v=n.n(O),x=n(154),S=(n(101),function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).filterSong=function(t){var e=a.state.songs.filter((function(e){return t===e.title.toLowerCase()}));""==t||0==e.length?a.setState({songs:a.state.songsCopy}):a.setState({songs:e})},a.playSong=function(t){var e=a.state.songs.filter((function(e){return t===e.id}));a.props.history.push({pathname:"/africariyoki/karaokedisplay/"+t,state:{chooseSong:e}}),a.setState({songs:e,currentSong:e})},a.state={songs:[],filteredSongs:"",currentSong:"",songsCopy:[],animatedTexts:["if","onyeka onyewu","jowo","lala","ginger","monsters you made","jollof on the jet","beef","hustle","pepper soup"],count:0},a.searchTerm="",a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this;b.getLyrics().then((function(e){t.setState({songs:e,songsCopy:e})})),setInterval((function(){t.setState({count:(t.state.count+1)%10})}),4e3)}},{key:"render",value:function(){var t=this;return Object(a.jsx)("div",{className:"Searcher-container",children:Object(a.jsxs)("div",{className:"Searcher-container",children:[Object(a.jsx)(x.a,{id:"controllable-states-demo",value:this.searchTerm,options:this.state.animatedTexts.slice(0,5),renderInput:function(t){return Object(a.jsx)(m.a,Object(p.a)(Object(p.a)({},t),{},{className:"Searcher-input",label:"what do you want to sing today",variant:"outlined"}))},onInputChange:function(e,n){t.searchTerm=n},onChange:function(e,n){t.searchTerm=n,t.filterSong(n)},onKeyUp:function(e){"Enter"===e.key&&(t.filterSong(t.searchTerm),console.log(document),document.getElementsByClassName("MuiAutocomplete-popper").hide())}}),Object(a.jsx)(f,{songs:this.state.songs,filteredSongs:this.state.filteredSongs,playSong:this.playSong}),Object(a.jsx)(v.a,{style:{marginTop:50,fontSize:24,color:"#3F51B5"},text:this.state.animatedTexts[this.state.count],speed:150,eraseDelay:150,typingDelay:150})]})})}}]),n}(s.Component)),k=(n(103),function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(t){var a;return Object(o.a)(this,n),(a=e.call(this,t)).state={lyricsurl:t.lyricsurl,lyrics:""},a.scrollThreshold=500,a}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this;if(this.state.lyricsurl){fetch(this.state.lyricsurl,{method:"GET",redirect:"follow"}).then((function(t){return t.text()})).then((function(e){for(var n="",a="",s=0;s<e.length;s++)"\\"==e[s]?(n+=" \n ",a="t"):"t"==a?n+=e[s+1]:(n+=e[s],a="");t.setState({lyrics:n.replace('b"',"")})})).catch((function(t){console.log("error",t)}))}}},{key:"displayLyrics",value:function(){var t=this.state.lyrics.slice(0,this.state.lyrics.length/2),e=this.state.lyrics.slice(this.state.lyrics.length/2,-1);return Object(a.jsxs)("span",{className:"Lyrics-container",children:[Object(a.jsx)("span",{className:"Lyrics-firstPart",children:t}),Object(a.jsx)("span",{className:"Lyrics-secondPart",children:e})]})}},{key:"render",value:function(){return Object(a.jsx)("pre",{className:"Lyrics",children:this.displayLyrics()})}}]),n}(s.Component));k.defaultProps={speed:300};var I=k,C=(n(104),function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={singer:t.props.location.state.chooseSong[0],animatedTexts:[t.props.location.state.chooseSong[0].title,t.props.location.state.chooseSong[0].singer,t.props.location.state.chooseSong[0].album],count:0},t}return Object(c.a)(n,[{key:"componentDidUpdate",value:function(){var t=this;setInterval((function(){t.setState({count:(t.state.count+1)%5})}),5e3)}},{key:"render",value:function(){return window.onload=function(t){var e=document.getElementById("audioPlay");console.log("myAudio",e.duration),e&&e.duration>0&&e.paused&&alert("music paused")},this.props?Object(a.jsxs)("div",{className:"KaraokeDisplay-container",children:[Object(a.jsxs)("audio",{id:"audioPlay",className:"KaraokeDisplay-audio",controls:!0,autoPlay:!0,children:[Object(a.jsx)("source",{src:this.state.singer.audiourl,type:"audio/mpeg"}),"Your browser does not support the audio element."]}),Object(a.jsxs)("h2",{children:[this.state.singer.title," by ",this.state.singer.singer]}),Object(a.jsx)(I,{lyricsurl:this.state.singer.lyricsurl}),Object(a.jsx)(v.a,{style:{marginTop:50,fontSize:24,color:"#3F51B5"},text:this.state.animatedTexts[this.state.count],speed:150,eraseDelay:150,typingDelay:150})]}):Object(a.jsxs)("div",{className:"KaraokeDisplay-display",children:[Object(a.jsx)("h2",{children:"Song Title"}),Object(a.jsx)(I,{lyrics:"example song lyrics"})]})}}]),n}(s.Component)),N=n(155),w=n(74),D=n.n(w),T=n(152),A=n(73),P=n.n(A),L=(n(105),function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){var t;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(t=e.call.apply(e,[this].concat(s))).state={albumName:"",singer:"",title:"",lyrics:"",videoID:"",addressID:"",isUploading:!1,progress:0},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){}},{key:"uploadToFirebase",value:function(){if(""!=this.state.videoID){var t,e="https://storage.googleapis.com/africariyoki.appspot.com/music/".concat(this.state.videoID,".mp3"),n="https://storage.googleapis.com/africariyoki.appspot.com/lyrics/".concat(this.state.videoID,".txt"),a=this.state.addressID;a=""==a?"http://0.0.0.0:5000":"https://"+a+".ngrok.io",b.addAfricariyoki((t={title:this.state.title,singer:this.state.singer},Object(y.a)(t,"title",this.state.title),Object(y.a)(t,"audiourl",e),Object(y.a)(t,"lyricsurl",n),Object(y.a)(t,"id",this.state.videoID),t));var s={method:"GET",redirect:"follow"};if(fetch("".concat(a,"/vr/").concat(this.state.videoID),s).then((function(t){return t.text()})).then((function(t){return console.log(t)})).catch((function(t){return console.log("error",t)})),""!=this.state.lyrics){s={method:"POST",headers:{"Content-Type":"text/plain"},body:this.state.lyrics,redirect:"follow"};fetch("".concat(a,"/lyrics/").concat(this.state.videoID),s).then((function(t){return t.text()})).then((function(t){return console.log(t)})).catch((function(t){return console.log("error",t)}))}}}},{key:"render",value:function(){var t=this;return Object(a.jsx)("div",{style:{height:"100%"},children:Object(a.jsxs)("div",{style:{height:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:[Object(a.jsx)(P.a,{}),Object(a.jsxs)("div",{style:{width:320,padding:30,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(a.jsx)(N.a,{style:{marginBottom:10},children:Object(a.jsx)(D.a,{})}),Object(a.jsxs)("div",{style:{marginBottom:20,fontSize:24,textAlign:"center"},children:[" ","Upload song information"," "]}),Object(a.jsx)(m.a,{value:this.state.title,placeholder:"Song title",onChange:function(e){t.setState({title:e.target.value})}}),Object(a.jsx)(m.a,{value:this.state.singer,placeholder:"Singer",onChange:function(e){t.setState({singer:e.target.value})}}),Object(a.jsx)(m.a,{value:this.state.albumName,placeholder:"Album",onChange:function(e){t.setState({albumName:e.target.value})}}),Object(a.jsx)(m.a,{value:this.state.videoID,placeholder:"Youtube Video ID",onChange:function(e){t.setState({videoID:e.target.value})}}),Object(a.jsx)(m.a,{value:this.state.addressID,placeholder:"address ID",onChange:function(e){t.setState({addressID:e.target.value})}}),Object(a.jsx)(m.a,{style:{height:100},value:this.state.lyrics,placeholder:"Lyrics - paste lyrics here",multiline:!0,rows:4,onChange:function(e){t.setState({lyrics:e.target.value})}}),Object(a.jsx)(T.a,{style:{marginTop:20,width:200},variant:"outlined",color:"primary",onClick:function(){t.uploadToFirebase()},children:"Upload"}),this.state.wrongCred&&Object(a.jsx)("div",{style:{color:"red"},children:this.state.SignUpErrorMsg})]})]})})}}]),n}(s.Component)),E=n(18),U=(n(112),function(t){Object(l.a)(n,t);var e=Object(u.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"app",children:[Object(a.jsx)(h,{}),Object(a.jsx)("div",{className:"app-body",children:Object(a.jsx)("div",{className:"content",children:Object(a.jsxs)(E.c,{children:[Object(a.jsx)(E.a,{path:"/africariyoki",exact:!0,component:S}),Object(a.jsx)(E.a,{path:"/africariyoki/karaokedisplay/:id",exact:!0,component:C}),Object(a.jsx)(E.a,{path:"/africariyoki/upload",exact:!0,component:L}),Object(a.jsx)(E.a,{component:function(){return Object(a.jsx)("div",{style:{padding:20},children:"Page not found"})}})]})})})]})}}]),n}(s.Component)),B={apiKey:"AIzaSyDyuKXjNCV1RowCqeWyAfffk0EJPPe2Vjg",authDomain:"africariyoki.firebaseapp.com",databaseURL:"https://africariyoki-default-rtdb.firebaseio.com",projectId:"africariyoki",storageBucket:"africariyoki.appspot.com",messagingSenderId:"477946568761",appId:"1:477946568761:web:bdc8f1110f36abdc732de8",measurementId:"G-FQ0NXKV2ED"};g.a.apps.length||g.a.initializeApp(B);var K=Object(a.jsx)(d.a,{children:Object(a.jsx)(U,{})});window.__MUI_USE_NEXT_TYPOGRAPHY_VARIANTS__=!0,r.a.render(K,document.getElementById("root"))},88:function(t,e,n){},89:function(t,e,n){},90:function(t,e,n){}},[[113,1,2]]]);
//# sourceMappingURL=main.1e44c05e.chunk.js.map