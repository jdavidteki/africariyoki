{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/Users/jdavid/Documents/africariyoki/src/components/uploadcontent/UploadContent.js\";\nimport React, { Component } from \"react\";\nimport Avatar from '@material-ui/core/Avatar';\nimport MusicNoteIcon from '@material-ui/icons/MusicNote';\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Firebase from \"../../firebase/firebase.js\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport \"./UploadContent.css\";\n\nvar ConnectedUploadContent = function (_Component) {\n  _inherits(ConnectedUploadContent, _Component);\n\n  function ConnectedUploadContent() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ConnectedUploadContent);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ConnectedUploadContent)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      albumName: \"\",\n      singer: \"\",\n      title: \"\",\n      lyrics: \"\",\n      videoID: \"\",\n      addressID: \"\",\n      isUploading: false,\n      progress: 0\n    };\n    return _this;\n  }\n\n  _createClass(ConnectedUploadContent, [{\n    key: \"uploadToFirebase\",\n    value: function uploadToFirebase() {\n      if (this.state.videoID != \"\") {\n        var audioUrl = \"https://storage.googleapis.com/africariyoki-4b634.appspot.com/music/\" + this.state.videoID + \".mp3\";\n        var lyricsTextUrl = \"https://storage.googleapis.com/africariyoki-4b634.appspot.com/lyrics/\" + this.state.videoID + \".txt\";\n        var addressID = this.state.addressID;\n\n        if (addressID == '') {\n          addressID = \"http://0.0.0.0:5000\";\n        } else {\n          addressID = \"https://\" + addressID + \".ngrok.io\";\n        }\n\n        Firebase.addAfricariyoki({\n          title: this.state.title,\n          singer: this.state.singer,\n          title: this.state.title,\n          audiourl: audioUrl,\n          lyricsurl: lyricsTextUrl,\n          lyrics: this.state.lyrics,\n          id: this.state.videoID\n        });\n        var requestOptions = {\n          method: 'GET',\n          redirect: 'follow'\n        };\n        fetch(addressID + \"/vr/\" + this.state.videoID, requestOptions).then(function (response) {\n          return response.text();\n        }).then(function (result) {\n          return console.log(result);\n        }).catch(function (error) {\n          return console.log('error', error);\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"UploadContent\",\n        style: {\n          height: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        }\n      }, React.createElement(\"div\", {\n        style: {\n          height: \"100%\",\n          display: \"flex\",\n          justifyContent: \"center\",\n          alignItems: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        }\n      }, React.createElement(\"div\", {\n        style: {\n          width: 320,\n          padding: 30,\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          flexDirection: \"column\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        }\n      }, React.createElement(Avatar, {\n        style: {\n          marginBottom: 10\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        }\n      }, React.createElement(MusicNoteIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        }\n      })), React.createElement(\"div\", {\n        style: {\n          marginBottom: 20,\n          fontSize: 24,\n          textAlign: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        }\n      }, \" \", \"Upload song information\", \" \"), React.createElement(TextField, {\n        value: this.state.title,\n        placeholder: \"Song title\",\n        onChange: function onChange(e) {\n          _this2.setState({\n            title: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        }\n      }), React.createElement(TextField, {\n        value: this.state.singer,\n        placeholder: \"Singer\",\n        onChange: function onChange(e) {\n          _this2.setState({\n            singer: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        }\n      }), React.createElement(TextField, {\n        value: this.state.albumName,\n        placeholder: \"Album\",\n        onChange: function onChange(e) {\n          _this2.setState({\n            albumName: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        }\n      }), React.createElement(TextField, {\n        value: this.state.videoID,\n        placeholder: \"Youtube Video ID\",\n        onChange: function onChange(e) {\n          _this2.setState({\n            videoID: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        }\n      }), React.createElement(TextField, {\n        value: this.state.addressID,\n        placeholder: \"address ID\",\n        onChange: function onChange(e) {\n          _this2.setState({\n            addressID: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        }\n      }), React.createElement(TextField, {\n        style: {\n          height: 100\n        },\n        value: this.state.lyrics,\n        placeholder: \"Lyrics - paste lyrics here\",\n        multiline: true,\n        rows: 4,\n        onChange: function onChange(e) {\n          _this2.setState({\n            lyrics: e.target.value\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        }\n      }), React.createElement(Button, {\n        style: {\n          marginTop: 20,\n          width: 200\n        },\n        variant: \"outlined\",\n        color: \"primary\",\n        onClick: function onClick() {\n          _this2.uploadToFirebase();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        }\n      }, \"Upload\"), this.state.wrongCred && React.createElement(\"div\", {\n        style: {\n          color: \"red\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        }\n      }, this.state.SignUpErrorMsg))));\n    }\n  }]);\n\n  return ConnectedUploadContent;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {};\n};\n\nvar UploadContent = withRouter(connect(mapStateToProps)(ConnectedUploadContent));\nexport default UploadContent;","map":{"version":3,"sources":["/Users/jdavid/Documents/africariyoki/src/components/uploadcontent/UploadContent.js"],"names":["React","Component","Avatar","MusicNoteIcon","TextField","Button","Firebase","connect","withRouter","ConnectedUploadContent","state","albumName","singer","title","lyrics","videoID","addressID","isUploading","progress","audioUrl","lyricsTextUrl","addAfricariyoki","audiourl","lyricsurl","id","requestOptions","method","redirect","fetch","then","response","text","result","console","log","catch","error","height","display","justifyContent","alignItems","width","padding","flexDirection","marginBottom","fontSize","textAlign","e","setState","target","value","marginTop","uploadToFirebase","wrongCred","color","SignUpErrorMsg","mapStateToProps","UploadContent"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Avatar from '@material-ui/core/Avatar';\nimport MusicNoteIcon from '@material-ui/icons/MusicNote';\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport Firebase from \"../../firebase/firebase.js\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\n\nimport \"./UploadContent.css\"\n\nclass ConnectedUploadContent extends Component {\n\n    state = {\n        albumName: \"\",\n        singer: \"\",\n        title: \"\",\n        lyrics: \"\",\n        videoID: \"\",\n        addressID: \"\",\n        isUploading: false,\n        progress: 0,\n    };\n\n    uploadToFirebase(){\n        //uZ-_HIoEBE8\n        if (this.state.videoID != \"\"){\n            let audioUrl = `https://storage.googleapis.com/africariyoki-4b634.appspot.com/music/${this.state.videoID}.mp3`\n            let lyricsTextUrl = `https://storage.googleapis.com/africariyoki-4b634.appspot.com/lyrics/${this.state.videoID}.txt`\n            let addressID = this.state.addressID\n            if(addressID == ''){\n                addressID = \"http://0.0.0.0:5000\"\n            }else{\n                addressID = \"https://\"+addressID+\".ngrok.io\"\n            }\n\n            Firebase.addAfricariyoki({\n                title: this.state.title,\n                singer: this.state.singer,\n                title: this.state.title,\n                audiourl: audioUrl,\n                lyricsurl: lyricsTextUrl,\n                lyrics: this.state.lyrics,\n                id: this.state.videoID,\n            })\n\n            //use ai to extract vocall from music and upload instrumental\n            var requestOptions = {\n                method: 'GET',\n                redirect: 'follow'\n            };\n            fetch(`${addressID}/vr/${this.state.videoID}`, requestOptions)\n            .then(response => response.text())\n            .then(result => console.log(result))\n            .catch(error => console.log('error', error));\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"UploadContent\" style={{height: \"100%\"}}>\n                <div style={{\n                    height: \"100%\",\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    alignItems: \"center\",\n                }}>\n                    <div\n                    style={{\n                        width: 320,\n                        padding: 30,\n                        display: \"flex\",\n                        alignItems: \"center\",\n                        justifyContent: \"center\",\n                        flexDirection: \"column\"\n                    }}\n                    >\n                    <Avatar style={{ marginBottom: 10 }}>\n                        <MusicNoteIcon />\n                    </Avatar>\n                    <div\n                        style={{\n                        marginBottom: 20,\n                        fontSize: 24,\n                        textAlign: \"center\"\n                        }}\n                    >\n                        {\" \"}\n                        Upload song information\n                        {\" \"}\n                    </div>\n                    <TextField\n                        value={this.state.title}\n                        placeholder=\"Song title\"\n                        onChange={e => {\n                        this.setState({ title: e.target.value });\n                        }}\n                    />\n                    <TextField\n                        value={this.state.singer}\n                        placeholder=\"Singer\"\n                        onChange={e => {\n                        this.setState({ singer: e.target.value });\n                        }}\n                    />\n                    <TextField\n                        value={this.state.albumName}\n                        placeholder=\"Album\"\n                        onChange={e => {\n                        this.setState({ albumName: e.target.value });\n                        }}\n                    />\n                    <TextField\n                        value={this.state.videoID}\n                        placeholder=\"Youtube Video ID\"\n                        onChange={e => {\n                        this.setState({ videoID: e.target.value });\n                        }}\n                    />\n                    <TextField\n                        value={this.state.addressID}\n                        placeholder=\"address ID\"\n                        onChange={e => {\n                            this.setState({ addressID: e.target.value });\n                        }}\n                    />\n                    <TextField\n                        style={{ height: 100}}\n                        value={this.state.lyrics}\n                        placeholder=\"Lyrics - paste lyrics here\"\n                        multiline\n                        rows={4}\n                        onChange={e => {\n                        this.setState({ lyrics: e.target.value });\n                        }}\n                    />\n                    <Button\n                        style={{ marginTop: 20, width: 200 }}\n                        variant=\"outlined\"\n                        color=\"primary\"\n                        onClick={() => {\n                            this.uploadToFirebase()\n                        }}\n                    >\n                    Upload\n                    </Button>\n                    {this.state.wrongCred && (\n                        <div style={{ color: \"red\" }}>{this.state.SignUpErrorMsg}</div>\n                    )}\n                    </div>\n                </div>\n            </div>\n\n        )\n    }\n}\n\n\nconst mapStateToProps = state => {\n    return {};\n};\n\nconst UploadContent = withRouter(connect(mapStateToProps)(ConnectedUploadContent));\nexport default UploadContent;\n\n\n//https://material-ui.com/components/material-icons/#material-icons"]},"metadata":{},"sourceType":"module"}